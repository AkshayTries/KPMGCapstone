<div class="container mt-4">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="card">
          <div class="card-header">
            <h3 class="text-center">Add New Employee</h3>
          </div>
          <div class="card-body">
            <form #employeeForm="ngForm" (ngSubmit)="onSubmit(employeeForm)" novalidate>
              <!-- Photo Upload -->
              <div class="form-group mb-3">
                <label for="photo" class="form-label">Employee Photo</label>
                <input type="file" class="form-control" id="photo" 
                       (change)="onFileSelected($event)" accept="image/*">
                <small class="form-text text-muted">Upload a clear headshot (JPEG/PNG, max 2MB)</small>
              </div>
  
              <!-- First Name -->
              <div class="form-group mb-3">
                <label for="fname" class="form-label">First Name</label>
                <input type="text" class="form-control" id="fname" 
                       [(ngModel)]="employee.fname" name="fname" 
                       required minlength="2" #fname="ngModel">
                <div *ngIf="formSubmitted && fname.errors" class="text-danger">
                  <small *ngIf="fname.errors['required']">First name is required</small>
                  <small *ngIf="fname.errors['minlength']">Minimum 2 characters required</small>
                </div>
              </div>
  
              <!-- Last Name -->
              <div class="form-group mb-3">
                <label for="lname" class="form-label">Last Name</label>
                <input type="text" class="form-control" id="lname" 
                       [(ngModel)]="employee.lname" name="lname" 
                       required minlength="2" #lname="ngModel">
                <div *ngIf="formSubmitted && lname.errors" class="text-danger">
                  <small *ngIf="lname.errors['required']">Last name is required</small>
                  <small *ngIf="lname.errors['minlength']">Minimum 2 characters required</small>
                </div>
              </div>
  
              <!-- Email -->
              <div class="form-group mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" 
                       [(ngModel)]="employee.email" name="email" 
                       required email #email="ngModel">
                <div *ngIf="formSubmitted && email.errors" class="text-danger">
                  <small *ngIf="email.errors['required']">Email is required</small>
                  <small *ngIf="email.errors['email']">Please enter a valid email</small>
                </div>
              </div>
  
              <!-- Designation -->
              <div class="form-group mb-3">
                <label for="designation" class="form-label">Designation</label>
                <input type="text" class="form-control" id="designation" 
                       [(ngModel)]="employee.designation" name="designation" 
                       required #designation="ngModel">
                <div *ngIf="formSubmitted && designation.errors" class="text-danger">
                  <small *ngIf="designation.errors['required']">Designation is required</small>
                </div>
              </div>
  
              <!-- Salary -->
              <div class="form-group mb-3">
                <label for="salary" class="form-label">Salary</label>
                <input type="number" class="form-control" id="salary" 
                       [(ngModel)]="employee.salary" name="salary" 
                       required min="0" #salary="ngModel">
                <div *ngIf="formSubmitted && salary.errors" class="text-danger">
                  <small *ngIf="salary.errors['required']">Salary is required</small>
                  <small *ngIf="salary.errors['min']">Salary must be a positive number</small>
                </div>
              </div>
  
              <!-- Joining Date -->
              <div class="form-group mb-3">
                <label for="joiningDate" class="form-label">Joining Date</label>
                <input type="date" class="form-control" id="joiningDate" 
                       [(ngModel)]="employee.joiningDate" name="joiningDate" 
                       required #joiningDate="ngModel">
                <div *ngIf="formSubmitted && joiningDate.errors" class="text-danger">
                  <small *ngIf="joiningDate.errors['required']">Joining date is required</small>
                </div>
              </div>
  
              <!-- Department -->
              <div class="form-group mb-3">
                <label for="department" class="form-label">Department</label>
                <select class="form-select" id="department" 
                        [(ngModel)]="employee.department" name="department" 
                        required #department="ngModel">
                  <option value="" disabled selected>Select Department</option>
                  <option>IT</option>
                  <option>HR</option>
                  <option>Finance</option>
                  <option>Marketing</option>
                </select>
                <div *ngIf="formSubmitted && department.errors" class="text-danger">
                  <small *ngIf="department.errors['required']">Department is required</small>
                </div>
              </div>
  
              <!-- Submit and Cancel Buttons -->
              <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                <button type="button" class="btn btn-secondary me-md-2" 
                        (click)="goToEmployeeList()">Cancel</button>
                <button type="submit" class="btn btn-primary">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>